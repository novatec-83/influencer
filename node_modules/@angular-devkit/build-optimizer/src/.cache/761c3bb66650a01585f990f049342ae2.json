{"remainingRequest":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/angular2-websocket-service/lib/index.service.js","dependencies":[{"path":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/angular2-websocket-service/lib/index.service.js","mtime":1487279869000},{"path":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/cache-loader/dist/cjs.js","mtime":1549951013815},{"path":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["\"use strict\";\nvar Observable_1 = require(\"rxjs/Observable\");\nvar WebSocketService = /*@__PURE__*/ (function () {\n    function WebSocketService() {\n    }\n    WebSocketService.prototype.connect = function (url, input) {\n        return new Observable_1.Observable(function (observer) {\n            var socket = new WebSocket(url);\n            var inputSubscription;\n            socket.onopen = function () {\n                inputSubscription = input.subscribe(function (data) {\n                    socket.send(JSON.stringify(data));\n                });\n            };\n            socket.onmessage = function (message) {\n                observer.next(JSON.parse(message.data));\n            };\n            socket.onerror = function (error) {\n                observer.error(error);\n            };\n            socket.onclose = function () {\n                observer.complete();\n            };\n            return function () {\n                if (inputSubscription)\n                    inputSubscription.unsubscribe();\n                if (socket)\n                    socket.close();\n            };\n        });\n    };\n    return WebSocketService;\n}());\nexports.WebSocketService = WebSocketService;\n",null]}