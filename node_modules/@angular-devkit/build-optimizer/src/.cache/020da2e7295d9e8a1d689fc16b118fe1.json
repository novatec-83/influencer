{"remainingRequest":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/@swimlane/ngx-charts/release/bar-chart/bar.component.js","dependencies":[{"path":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/@swimlane/ngx-charts/release/bar-chart/bar.component.js","mtime":1495471598000},{"path":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/cache-loader/dist/cjs.js","mtime":1549951013815},{"path":"/home/amjad/Downloads/influexai_Influencer_12_feb/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Component, Input, Output, EventEmitter, HostListener, ElementRef, ChangeDetectionStrategy } from '@angular/core';\nimport { LocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { select } from 'd3-selection';\nimport { roundedRect } from '../common/shape.helper';\nimport { pathTween } from '../utils/path-tween';\nimport { id } from '../utils/id';\nvar BarComponent = /*@__PURE__*/ (function () {\n    function BarComponent(element, location) {\n        this.location = location;\n        this.roundEdges = true;\n        this.gradient = false;\n        this.offset = 0;\n        this.isActive = false;\n        this.select = new EventEmitter();\n        this.activate = new EventEmitter();\n        this.deactivate = new EventEmitter();\n        this.initialized = false;\n        this.hasGradient = false;\n        this.element = element.nativeElement;\n    }\n    BarComponent.prototype.ngOnChanges = function (changes) {\n        if (!this.initialized) {\n            this.loadAnimation();\n            this.initialized = true;\n        }\n        else {\n            this.update();\n        }\n    };\n    BarComponent.prototype.update = function () {\n        var pageUrl = this.location instanceof PathLocationStrategy\n            ? this.location.path()\n            : '';\n        this.gradientId = 'grad' + id().toString();\n        this.gradientFill = \"url(\" + pageUrl + \"#\" + this.gradientId + \")\";\n        if (this.gradient || this.stops) {\n            this.gradientStops = this.getGradient();\n            this.hasGradient = true;\n        }\n        else {\n            this.hasGradient = false;\n        }\n        this.animateToCurrentForm();\n    };\n    BarComponent.prototype.loadAnimation = function () {\n        this.path = this.getStartingPath();\n        setTimeout(this.update.bind(this), 100);\n    };\n    BarComponent.prototype.animateToCurrentForm = function () {\n        var node = select(this.element).select('.bar');\n        var path = this.getPath();\n        node.transition().duration(500)\n            .attrTween('d', pathTween(path, 1));\n    };\n    BarComponent.prototype.getGradient = function () {\n        if (this.stops) {\n            return this.stops;\n        }\n        return [\n            {\n                offset: 0,\n                color: this.fill,\n                opacity: this.getStartOpacity()\n            },\n            {\n                offset: 100,\n                color: this.fill,\n                opacity: 1\n            }\n        ];\n    };\n    BarComponent.prototype.getStartingPath = function () {\n        var radius = this.getRadius();\n        var path;\n        var edges = [false, false, false, false];\n        if (this.roundEdges) {\n            if (this.orientation === 'vertical') {\n                radius = Math.min(this.height, radius);\n                path = roundedRect(this.x, this.y + this.height, this.width, 0, radius, edges);\n            }\n            else if (this.orientation === 'horizontal') {\n                radius = Math.min(this.width, radius);\n                path = roundedRect(this.x, this.y, 0, this.height, radius, edges);\n            }\n        }\n        else {\n            if (this.orientation === 'vertical') {\n                path = roundedRect(this.x, this.y + this.height, this.width, 0, radius, edges);\n            }\n            else if (this.orientation === 'horizontal') {\n                path = roundedRect(this.x, this.y, 0, this.height, radius, edges);\n            }\n        }\n        return path;\n    };\n    BarComponent.prototype.getPath = function () {\n        var radius = this.getRadius();\n        var path;\n        if (this.roundEdges) {\n            if (this.orientation === 'vertical') {\n                radius = Math.min(this.height, radius);\n                path = roundedRect(this.x, this.y, this.width, this.height, radius, this.edges);\n            }\n            else if (this.orientation === 'horizontal') {\n                radius = Math.min(this.width, radius);\n                path = roundedRect(this.x, this.y, this.width, this.height, radius, this.edges);\n            }\n        }\n        else {\n            path = roundedRect(this.x, this.y, this.width, this.height, radius, this.edges);\n        }\n        return path;\n    };\n    BarComponent.prototype.getRadius = function () {\n        var radius = 0;\n        if (this.roundEdges && this.height > 5 && this.width > 5) {\n            radius = Math.floor(Math.min(5, this.height / 2, this.width / 2));\n        }\n        return radius;\n    };\n    BarComponent.prototype.getStartOpacity = function () {\n        if (this.roundEdges) {\n            return 0.2;\n        }\n        else {\n            return 0.5;\n        }\n    };\n    Object.defineProperty(BarComponent.prototype, \"edges\", {\n        get: function () {\n            var edges = [false, false, false, false];\n            if (this.roundEdges) {\n                if (this.orientation === 'vertical') {\n                    if (this.data.value > 0) {\n                        edges = [true, true, false, false];\n                    }\n                    else {\n                        edges = [false, false, true, true];\n                    }\n                }\n                else if (this.orientation === 'horizontal') {\n                    if (this.data.value > 0) {\n                        edges = [false, true, false, true];\n                    }\n                    else {\n                        edges = [true, false, true, false];\n                    }\n                }\n            }\n            return edges;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BarComponent.prototype.onMouseEnter = function () {\n        this.activate.emit(this.data);\n    };\n    BarComponent.prototype.onMouseLeave = function () {\n        this.deactivate.emit(this.data);\n    };\n    return BarComponent;\n}());\nexport { BarComponent };\n//# sourceMappingURL=bar.component.js.map \n",null]}